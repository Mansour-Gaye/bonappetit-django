{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'comptes/css/custom_comptes.css' %}">
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header">
          <h3 class="text-center">Mon Profil</h3>
        </div>
        <div class="card-body">
          <div class="profile-details">
            <h4>Profil de {{ user_profile.username }}</h4>
            <p><strong>Email :</strong> {{ user_profile.email }}</p>
            <p><strong>Nom :</strong> {{ user_profile.first_name }} {{ user_profile.last_name }}</p>

            {% if user_profile.client %}
                <p><strong>Téléphone :</strong> {{ user_profile.client.telephone|default:"Non fourni" }}</p>
                <p><strong>Rôle(s) :</strong>
                    {% if user_profile.client.is_client %}
                        Client
                    {% endif %}
                    {% if user_profile.client.is_gestionnaire %}
                        {% if user_profile.client.is_client and user_profile.client.is_gestionnaire %} | {% endif %}
                        Gestionnaire
                    {% endif %}
                </p>

                {% if user_profile.client.is_gestionnaire %}
                <div class="alert alert-info mt-3">
                    Vous avez des accès de gestionnaire.
                </div>
                {% endif %}
            {% else %}
                <p class="text-danger">Profil client non trouvé.</p>
            {% endif %}

            <!-- Ancien contenu de test pour le CSS, peut être supprimé ou adapté -->
            <!-- <p>Ceci est un test pour le CSS personnalisé.</p> -->
          </div>
        </div>
        <div class="card-footer text-center">
          <a href="#" class="btn btn-primary">Modifier le profil</a> <!-- Placeholder -->
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock content %}
